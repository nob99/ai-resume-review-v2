# ============================================================================
# Staging Environment Configuration
# ============================================================================
#
# PURPOSE:
#   Environment variables for the GCP staging environment.
#   These will be injected into Cloud Run services at deployment time.
#
# USAGE:
#   1. Copy this file to .env.staging
#   2. Replace placeholder values with actual staging values
#   3. DO NOT commit .env.staging to git (it's in .gitignore)
#   4. Store sensitive values in Secret Manager instead
#
# DESIGN PRINCIPLE:
#   - Non-sensitive configs: Environment variables (this file)
#   - Sensitive configs: Secret Manager (API keys, passwords)
#
# HOW THESE VALUES ARE USED:
#   GitHub Actions reads this file and injects values into Cloud Run:
#   ```yaml
#   - name: Deploy to Cloud Run
#     run: |
#       gcloud run deploy SERVICE_NAME \
#         --set-env-vars="$(cat .env.staging)"
#   ```
#
# ============================================================================

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
ENVIRONMENT=staging
DEBUG=False
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# API Configuration
# ----------------------------------------------------------------------------
API_V1_STR=/api/v1

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# NOTE: DB_PASSWORD is stored in Secret Manager, not here
DB_HOST=/cloudsql/YOUR_PROJECT_ID:us-central1:ai-resume-review-db-staging
DB_PORT=5432
DB_NAME=ai_resume_review_staging
DB_USER=postgres
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# NOTE: SECRET_KEY is stored in Secret Manager, not here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------------------------------------------------------------------
# AI Configuration
# ----------------------------------------------------------------------------
# NOTE: OPENAI_API_KEY is stored in Secret Manager, not here
OPENAI_MODEL_NAME=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.3
OPENAI_REQUEST_TIMEOUT_SECONDS=30
LANGGRAPH_WORKFLOW_TIMEOUT_SECONDS=300
LANGGRAPH_MAX_RETRIES=2

# ----------------------------------------------------------------------------
# Frontend Configuration (for NEXT_PUBLIC_ variables)
# ----------------------------------------------------------------------------
# These will be set in the frontend Cloud Run service
# NEXT_PUBLIC_API_URL=https://ai-resume-review-backend-staging-xxx.run.app
# NODE_ENV=production
# NEXT_TELEMETRY_DISABLED=1

# ============================================================================
# SECRETS (stored in Secret Manager)
# ============================================================================
# These are accessed via Secret Manager API, not environment variables:
#   - openai-api-key-staging
#   - db-password-staging
#   - jwt-secret-key-staging
#
# Access pattern in code:
#   from google.cloud import secretmanager
#   secret_value = get_secret("openai-api-key-staging")
# ============================================================================
