metadata:
  name: appeal_analysis
  version: 1.0.0
  description: Industry-specific resume appeal and competitiveness analysis
  agent_type: appeal
  industry_specific: true
  # Note: LLM model/temperature/max_tokens are controlled by:
  # - Model: backend/ai_agents/settings.py or AI_AGENT_LLM_MODEL env var
  # - Temperature/tokens: backend/ai_agents/config/agents.yaml per-agent settings

prompts:
  system: |
    You are an expert {industry_title} industry analyst and recruitment specialist. Your role is to evaluate resumes specifically for their appeal and competitiveness within the {industry_title} sector.

    You have deep knowledge of:
    - {industry_title} industry requirements and trends
    - Key skills and qualifications valued in {industry_title}
    - Career progression patterns in {industry_title}
    - Competitive landscape and market dynamics
    - Industry-specific achievements that matter most

    Your analysis focuses on:
    - How well the candidate positions themselves for {industry_title} roles
    - Competitive strengths and differentiators for this industry
    - Alignment with {industry_title} employer expectations
    - Market positioning and tier assessment
    - Industry-specific improvement opportunities

    Provide detailed, actionable insights that help candidates understand their appeal within the {industry_title} market and how to enhance their competitive positioning.

  user: |
    Analyze the following resume for industry-specific appeal and competitiveness in the {industry_title} sector.

    {structure_context_section}

    RESUME TO ANALYZE:
    {resume_text}

    ANALYSIS REQUIREMENTS FOR {industry_upper} INDUSTRY:

    1. ACHIEVEMENT RELEVANCE ASSESSMENT (0-100 scale):
       - Relevance of accomplishments to {industry_title} industry
       - Impact and measurability of achievements
       - Industry-specific value demonstration
       - Competitive differentiation through achievements

    2. SKILLS ALIGNMENT ASSESSMENT (0-100 scale):
       - Alignment with key {industry_title} skills: {key_skills_list}
       - Technical and domain expertise demonstration
       - Skill progression and depth
       - Missing critical skills identification

    3. EXPERIENCE FIT ASSESSMENT (0-100 scale):
       - Relevance of work experience to {industry_title}
       - Career progression appropriateness
       - Industry transition readiness (if applicable)
       - Experience depth and breadth

    4. COMPETITIVE POSITIONING ASSESSMENT (0-100 scale):
       - Market competitiveness within {industry_title}
       - Unique value proposition strength
       - Differentiation from typical candidates
       - Overall market appeal

    EXPECTED OUTPUT FORMAT:

    SCORES:
    - Achievement Relevance Score: [0-100]
    - Skills Alignment Score: [0-100]
    - Experience Fit Score: [0-100]
    - Competitive Positioning Score: [0-100]

    DETAILED INDUSTRY ANALYSIS:

    Relevant Achievements:
    - [List 3-5 most relevant achievements for {industry_title} industry]
    - [Focus on quantifiable, impactful accomplishments]

    Missing Skills:
    - [List critical {industry_title} skills that are missing or underrepresented]
    - [Prioritize skills by importance to industry success]

    Transferable Experience:
    - [Identify cross-industry experience that adds value]
    - [Highlight experience that translates well to {industry_title}]

    Industry Keywords:
    - [List industry-specific terms and keywords found in resume]
    - [Note important keywords that are missing]

    COMPETITIVE ASSESSMENT:

    Market Tier: [entry/mid/senior/executive based on experience and achievements]

    Competitive Advantages:
    - [List unique selling points and competitive differentiators]
    - [Focus on strengths that set candidate apart in {industry_title}]

    Improvement Areas:
    - [Priority areas for enhancement to improve industry appeal]
    - [Specific recommendations for {industry_title} positioning]
    - [Career development suggestions for industry advancement]

variables:
  - name: resume_text
    type: string
    required: true
    description: The resume text to analyze for industry appeal
  
  - name: industry
    type: string
    required: true
    description: Target industry code (e.g., tech_consulting, finance_banking)
  
  - name: industry_title
    type: string
    required: true
    description: Display-friendly industry name (e.g., "Technology Consulting")

  - name: industry_upper
    type: string
    required: true
    description: Uppercase industry name for emphasis
  
  - name: key_skills_list
    type: string
    required: true
    description: Comma-separated list of key industry skills
  
  - name: structure_context_section
    type: string
    required: false
    default: ""
    description: Optional context from structure analysis

# Parsing configuration (how to extract data from LLM response)
# Note: Regex patterns follow common format defined in prompts/parsing_patterns.py
# Pattern format: [：:\\s]*(\\d+) supports both EN/JA colons
parsing:
  scores:
    achievement_relevance:
      pattern: "Achievement\\s*Relevance\\s*Score[：:\\s]*(\\d+)"
      default: 0
    skills_alignment:
      pattern: "Skills?\\s*Alignment\\s*Score[：:\\s]*(\\d+)"
      default: 0
    experience_fit:
      pattern: "Experience\\s*Fit\\s*Score[：:\\s]*(\\d+)"
      default: 0
    competitive_positioning:
      pattern: "Competitive\\s*Positioning\\s*Score[：:\\s]*(\\d+)"
      default: 0

  market_tier:
    pattern: "Market\\s*Tier[：:\\s]*(entry|mid|senior|executive)"
    default: "mid"

  feedback:
    relevant_achievements: "Relevant Achievements"
    missing_skills: "Missing Skills"
    transferable_experience: "Transferable Experience"
    competitive_advantages: "Competitive Advantages"
    improvement_areas: "Improvement Areas"