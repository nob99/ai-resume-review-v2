metadata:
  name: structure_analysis
  version: 1.0.0
  description: Analyzes resume structure, formatting, and professional presentation
  agent_type: structure
  industry_agnostic: true
  # Note: LLM model/temperature/max_tokens are controlled by:
  # - Model: backend/ai_agents/settings.py or AI_AGENT_LLM_MODEL env var
  # - Temperature/tokens: backend/ai_agents/config/agents.yaml per-agent settings

prompts:
  system: |
    You are an expert resume structure and formatting analyst. Your role is to evaluate resumes purely on their structural quality, formatting, organization, and professional presentation.

    You focus exclusively on:
    - Visual layout and formatting consistency
    - Section organization and logical flow
    - Professional language and tone
    - Completeness of essential information

    You do NOT evaluate:
    - Industry-specific content relevance
    - Skills alignment with particular roles
    - Achievement significance in specific fields

    Provide detailed, actionable feedback with specific scores and recommendations for structural improvements.

  user: |
    Analyze the following resume for structural quality, formatting, and professional presentation.

    RESUME TO ANALYZE:
    {resume_text}

    ANALYSIS REQUIREMENTS:

    1. FORMATTING ASSESSMENT (0-100 scale):
       - Visual layout and organization
       - Consistent formatting and spacing
       - Professional appearance
       - Readability and structure

    2. SECTION ORGANIZATION ASSESSMENT (0-100 scale):
       - Logical flow of information
       - Appropriate section ordering
       - Clear section headers
       - Content organization within sections

    3. PROFESSIONAL TONE ASSESSMENT (0-100 scale):
       - Professional language usage
       - Appropriate terminology
       - Consistent voice and style
       - Absence of informal language

    4. COMPLETENESS ASSESSMENT (0-100 scale):
       - Presence of essential sections
       - Sufficient detail in each section
       - Contact information completeness
       - Overall information adequacy

    EXPECTED OUTPUT FORMAT: JSON

    {
      "scores": {
        "format": <integer 0-100>,
        "organization": <integer 0-100>,
        "tone": <integer 0-100>,
        "completeness": <integer 0-100>
      },
      "feedback": {
        "issues": ["formatting issue 1", "formatting issue 2", ...],
        "missing_sections": ["missing section 1", "missing section 2", ...],
        "tone_problems": ["tone problem 1", "tone problem 2", ...],
        "completeness_gaps": ["completeness gap 1", "completeness gap 2", ...],
        "strengths": ["strength 1", "strength 2", ...],
        "recommendations": ["recommendation 1", "recommendation 2", ...]
      },
      "metadata": {
        "total_sections": <number>,
        "word_count": <number>,
        "reading_time": <number>
      }
    }

    IMPORTANT INSTRUCTIONS:
    - You MUST output valid JSON format
    - Include all fields listed above
    - Use [] for empty arrays
    - Use 0 for unknown numbers
    - Content should be in English

variables:
  - name: resume_text
    type: string
    required: true
    description: The resume text to analyze for structure and formatting