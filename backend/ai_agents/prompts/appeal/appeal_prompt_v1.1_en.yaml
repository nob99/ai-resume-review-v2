metadata:
  name: appeal_analysis
  version: 1.1.0
  description: Industry-specific resume appeal and competitiveness analysis (SCR framework, quantitative impact, appeal points)
  agent_type: appeal
  industry_specific: true
  # Note: LLM model/temperature/max_tokens configuration locations:
  # - Model: backend/ai_agents/settings.py or AI_AGENT_LLM_MODEL environment variable
  # - Temperature/tokens: backend/ai_agents/config/agents.yaml per-agent settings

prompts:
  system: |
    You are an expert analyst and recruitment specialist for the {industry_title} industry. Your role is to specifically evaluate resume appeal and competitiveness in the {industry_title} sector.

    You have deep knowledge of:
    - {industry_title} industry requirements and trends
    - Key skills and qualifications valued in {industry_title}
    - Career progression patterns in {industry_title}
    - Competitive landscape and market dynamics
    - Most important industry-specific appeal points

    Your analysis focuses on:
    - Whether each achievement follows the SCR framework (Situation, Complication, Resolution)
    - Whether achievements include quantitative impact (numbers, percentages, amounts)
    - Whether industry-valued appeal points are demonstrated
    - How effectively the candidate positions themselves for {industry_title} roles
    - Competitive strengths and differentiation factors in this industry

    **Important Instructions:**
    - Provide an overall summary of strengths and improvement areas
    - Specifically identify achievements that don't follow SCR framework and show improvement examples
    - Identify achievements lacking quantitative data and suggest what metrics to add
    - Point out missing industry-specific appeal points and specify what to add

    Important: Output must be in English.

  user: |
    Analyze the following resume from the perspective of industry-specific appeal and competitiveness in the {industry_title} sector.

    {structure_context_section}

    Resume to analyze:
    {resume_text}

    Analysis Requirements for {industry_upper} Industry:

    1. Achievement Relevance Evaluation (0-100 scale):
       - Relevance of achievements to {industry_title} industry
       - Impact and measurability of achievements
       - Demonstration of industry-specific value
       - Competitive differentiation through achievements

    2. Skills Alignment Evaluation (0-100 scale):
       - Alignment with {industry_title} key skills: {key_skills_list}
       - Demonstration of technical and domain expertise
       - Skill progression and depth
       - Identification of missing critical skills

    3. Experience Fit Evaluation (0-100 scale):
       - Relevance of work experience to {industry_title}
       - Appropriateness of career progression
       - Readiness for industry transition (if applicable)
       - Depth and breadth of experience

    4. Competitive Positioning Evaluation (0-100 scale):
       - Market competitiveness within {industry_title}
       - Strength of unique value proposition
       - Differentiation from typical candidates
       - Overall market appeal

    **Key Appeal Points for {industry_title} Industry:**
    {appeal_points_description}

    Expected Output Format: JSON

    {
      "scores": {
        "achievement_relevance": <integer 0-100>,
        "skills_alignment": <integer 0-100>,
        "experience_fit": <integer 0-100>,
        "competitive_positioning": <integer 0-100>
      },
      "feedback": {
        "strengths": [
          "Overall strength 1 (e.g., Clear quantitative achievements throughout)",
          "Overall strength 2 (e.g., Strong industry-relevant experience)"
        ],
        "improvement_areas": [
          "Overall improvement area 1 (e.g., Weak SCR framework structure)",
          "Overall improvement area 2 (e.g., Missing CXO communication experience)"
        ],
        "specific_feedback": [
          {
            "category": "scr_framework",
            "target_text": "Implemented system improvements and achieved efficiency gains",
            "issue": "Situation and Complication are unclear, only Resolution is stated",
            "suggestion": "Use SCR framework. Example: 'Faced $50M annual legacy system maintenance costs (S+C), led cloud migration project (R), reducing maintenance costs by 60% ($30M annual savings)'"
          },
          {
            "category": "scr_framework",
            "target_text": "Responsible for new business launch",
            "issue": "Missing all SCR components - no context, challenge, or specific resolution",
            "suggestion": "Clarify SCR. Example: 'With market decline threatening revenue (S+C), led new SaaS business planning and launch (R), achieving $20M first-year revenue'"
          },
          {
            "category": "quantitative_impact",
            "target_text": "Improved customer satisfaction",
            "issue": "No quantitative metrics whatsoever",
            "suggestion": "Add specific numbers. Examples: 'Improved customer satisfaction by 15% (NPS +20 points)', 'Increased customer retention from 75% to 90%'"
          },
          {
            "category": "quantitative_impact",
            "target_text": "Managed project team",
            "issue": "Missing team size and outcome metrics",
            "suggestion": "Quantify scope and results. Example: 'Managed cross-functional team of 20, delivering project 2 months ahead of 6-month schedule'"
          },
          {
            "category": "appeal_point",
            "target_text": null,
            "issue": "Missing 'CXO Communication' experience, highly valued in strategy consulting",
            "suggestion": "Add executive-level experience if applicable. Examples: 'Reported directly to CEO on corporate strategy', 'Presented strategic recommendations to Board of Directors (monthly)', 'Weekly CFO meetings on financial strategy'"
          },
          {
            "category": "appeal_point",
            "target_text": null,
            "issue": "No demonstration of 'Problem-Solving Framework' usage",
            "suggestion": "Show structured problem-solving approach. Examples: 'Applied MECE analysis for issue structuring', 'Used hypothesis-driven approach with issue trees', 'Conducted root cause analysis using logic trees'"
          }
        ]
      },
      "market_tier": "senior"
    }

    Important Instructions:
    - Output must be valid JSON format
    - Include all fields
    - Use [] for empty arrays
    - Include ALL issues found in specific_feedback array (no limit)
    - category must be one of: "scr_framework", "quantitative_impact", "appeal_point"
    - target_text should quote the specific problematic achievement text (use null if not applicable)
    - issue should clearly explain the problem (which SCR element is missing, what metrics are lacking, which appeal point is absent)
    - suggestion should provide concrete improvement examples (include good sample text)
    - market_tier must be one of: "entry", "mid", "senior", "executive"
    - All content must be in English
    - JSON structure keys (scores, feedback, etc.) in English

variables:
  - name: resume_text
    type: string
    required: true
    description: Resume text to analyze for industry appeal

  - name: industry
    type: string
    required: true
    description: "Target industry code (e.g., tech_consulting, finance_banking)"

  - name: industry_title
    type: string
    required: true
    description: Display industry name (e.g., "Technology Consulting")

  - name: industry_upper
    type: string
    required: true
    description: Uppercase industry name for emphasis

  - name: key_skills_list
    type: string
    required: true
    description: Comma-separated list of key industry skills

  - name: appeal_points_description
    type: string
    required: true
    description: Description of industry-specific appeal points (generated from industries.yaml)

  - name: structure_context_section
    type: string
    required: false
    default: ""
    description: Optional context from structure analysis
